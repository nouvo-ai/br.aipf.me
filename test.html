<!DOCTYPE html>
<html>
<head>
    <title>Amazon S3 이미지 업로드 예제</title>
</head>
<body>
    <input type="file" id="fileInput" accept="image/*">
    <button onclick="uploadImage()">이미지 업로드</button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/aws-sdk/2.1135.0/aws-sdk.min.js"></script>
    <script>
        document.getElementById('fileInput').addEventListener('change', async (event) => {
            const file = event.target.files[0];
            const formData = new FormData();
            formData.append('file', file);

            try {
                const response = await fetch('/.netlify/functions/uploadImage', {
                    method: 'POST',
                    body: formData
                });

                if (response.ok) {
                    const data = await response.json();
                    console.log('이미지 업로드 성공:', data.location);
                    alert('이미지가 성공적으로 업로드되었습니다.');
                } else {
                    const errorData = await response.json();
                    console.error('이미지 업로드 실패:', errorData.message);
                    alert('이미지 업로드에 실패했습니다.');
                }
            } catch (error) {
                console.error('이미지 업로드 오류:', error);
                alert('이미지 업로드 중 오류가 발생했습니다.');
            }
        });
    </script>
</body>
</html>
